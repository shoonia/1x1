(()=>{const e="_OLiZ",t="_preQ",r=JSON.parse(document.getElementById("colors").textContent),n=/^#/,a=/[^\da-f]/gi,s=e=>{let t="";for(;e--;)t+=(16*Math.random()|0).toString(16);return t},o=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},i=({r:e,g:t,b:r,a:n})=>[e,t,r,n].map(o).join(""),l=e=>{let t=e.trim().toLowerCase().replace(n,"");if(t in r&&(t=r[t]),a.test(t))try{t=function(e,t,r,n){const a=(e+(n||"")).toString().includes("%");if("string"===typeof e?[e,t,r,n]=e.match(/(0?\.?\d{1,3})%?\b/g).map((e=>Number(e))):void 0!==n&&(n=Number.parseFloat(n)),"number"!==typeof e||"number"!==typeof t||"number"!==typeof r||e>255||t>255||r>255)throw new TypeError("Expected three numbers below 256");if("number"===typeof n){if(!a&&n>=0&&n<=1)n=Math.round(255*n);else{if(!(a&&n>=0&&n<=100))throw new TypeError(`Expected alpha value (${n}) as a fraction or percentage`);n=Math.round(255*n/100)}n=(256|n).toString(16).slice(1)}else n="";return(r|t<<8|e<<16|1<<24).toString(16).slice(1)+n}(e)}catch{return[!1]}return 3===t.length&&(t+=t),6===t.length&&(t+="ff"),8!==t.length?[!1]:[!0,t]},{readyStore:c,connect:h,dispatch:d,setState:u,getState:p}=(e=>{let t={},r={},n=[],a=(e,n)=>{if("@dispatch"!==e&&a("@dispatch",[e,n,t[e]]),t[e]){let s;t[e].forEach((a=>{let o=t[e].includes(a)&&a(r,n);o&&"function"!==typeof o.then&&(r={...r,...o},s={...s,...o})})),s&&a("@changed",s)}},s=(e,r)=>((t[e]||(t[e]=[])).push(r),()=>{t[e]=t[e].filter((e=>e!==r))}),o=()=>r,i=e=>a("@set",e);return s("@set",((e,t)=>t)),e.forEach((e=>{e&&e({dispatch:a,on:s,get:o,set:i})})),a("@init"),{dispatch:a,getState:o,setState:i,connect(...e){let t=e.pop();return n.push({keys:e,cb:t}),()=>{n=n.filter((e=>e.cb!==t))}},readyStore:()=>(a("@ready"),s("@changed",((e,t)=>{n.forEach((e=>{e.keys.some((e=>e in t))&&e.cb(r)}))})),Promise.all(n.map((e=>e.cb(r)))))}})([e=>{e.on("@init",(()=>({r:255,g:255,b:255,a:255,hex:"ffffffff",radix:16}))),e.on("set/rgba",((e,[t,r])=>({hex:i({...e,[t]:r}),[t]:r}))),e.on("set/hex",((e,t)=>{const r=t.length<8?t+"ff":t,n=parseInt(r,16);return((e,t)=>{const r={};let n;for(n in t)e[n]!==t[n]&&Object.assign(r,{[n]:t[n]});return r})(e,{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:r})}))}]);let f=(e,t)=>{Array.isArray(t)?t.some((t=>f(e,t))):null!=t&&!1!==t&&e.append(t)},g=e=>{let t=new DocumentFragment;return f(t,e.children),t},m=new Map,b=new Set(["ref","children","__ns"]),v=new Set(["innerHTML","value","muted"]),x=(e,t)=>{if("function"===typeof e)return e(t);let r,n;for(r in e="string"===typeof e?t.__ns?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e):e,t)if(!b.has(r))if(n=t[r],m.has(r))m.get(r)(e,n);else if("style"===r)if("string"===typeof n)e.style.cssText=n;else for(r in n)r.startsWith("--")?e.style.setProperty(r,n[r]):e.style[r]=n[r];else v.has(r)||r.startsWith("on")&&r in e?e[r]=n:null==n||"boolean"===typeof n&&!/^(ari|dat)a-/.test(r)?n?e.setAttribute(r,""):e.removeAttribute(r):e.setAttribute(r,n);return f("template"===e.localName?e.content:e,t.children),n=t.ref,n&&("function"===typeof n?n(e):n.current=e),e},y=e=>Object.seal({current:e}),w=e=>{let t=new Text(e);return[t,e=>{t.textContent=e}]};const _=()=>x("button",{type:"button","aria-label":"random color",class:"_qPjm",onclick:()=>{d("set/hex",s(6)+"ff")},children:x("svg",{height:"40",width:"40",viewBox:"0 0 290 221","aria-hidden":!0,fill:"currentColor",__ns:1,children:[x("path",{d:"M239 128l-36 79c-1 3-4 5-8 6l-86 8c-4 0-7-2-9-5l-50-70c-2-3-3-7-1-10l36-79c1-3 4-5 8-6l86-8c4 0 7 2 9 5l50 70c2 3 3 7 1 10zm-88 5l44 61 31-70-43-61-32 70zm32 67l-42-59-74 6 42 60 74-7zM64 134l75-7 32-70-75 7-32 70zM54 43c7-15 20-23 35-25l2 6c-14 2-25 9-31 22l-6-3zM23 170c-9-13-11-28-6-43l7 2c-4 13-4 26 5 37l-6 4zM181 13c15 1 25 7 34 20l-6 4c-6-11-17-17-29-17l1-7zm89 92c7 15 6 30-2 44l-6-3c7-12 8-25 2-38l6-3zM46 31C53 16 65 8 81 6l1 6c-13 2-24 9-30 22l-6-3zM9 172c-10-13-11-28-6-43l6 2c-4 13-3 26 5 37l-5 4zM183 0c16 0 29 7 38 20l-5 4c-8-11-19-18-33-17V0zm102 106c7 15 5 30-2 44l-6-3c7-12 8-25 2-38l6-3z",__ns:1}),x("circle",{transform:"matrix(-.67 -.29 .04 -.97 188.24 152.27)",r:"14",__ns:1}),x("circle",{transform:"matrix(-.65 -.28 .07 -.94 188.32 98.63)",r:"14",__ns:1}),x("circle",{transform:"matrix(.69 .43 -.47 .38 132.73 156.33)",r:"14",__ns:1}),x("circle",{transform:"matrix(.69 .43 -.47 .38 95.04 160.39)",r:"14",__ns:1}),x("circle",{transform:"matrix(.69 .43 -.47 .38 153.61 186.19)",r:"14",__ns:1}),x("circle",{transform:"matrix(.69 .43 -.47 .38 115.92 190.25)",r:"14",__ns:1}),x("circle",{transform:"matrix(-.93 .28 -.11 .94 114.82 96.89)",r:"14",__ns:1})]})}),k=()=>x("div",{class:"_rrUk",children:[x("svg",{"aria-label":"flag of Ukraine",viewBox:"0 0 3 2",width:"2em",role:"img",__ns:1,children:[x("path",{fill:"#005bbb",d:"M0 0h3v1H0z",__ns:1}),x("path",{fill:"#ffd500",d:"M0 1h3v1H0z",__ns:1})]}),x("a",{href:"https://u24.gov.ua/",children:"Support Ukraine"})]}),S=({open:e,title:t,children:r})=>x("details",{open:e,class:"_SZXH",children:[x("summary",{class:"_WrsA",children:t}),x("fieldset",{children:r})]}),M=window.matchMedia("(min-width:700px)").matches,E=()=>x(S,{open:M,title:"Picker",children:x("hex-alpha-color-picker",{ref:e=>{h("hex",(t=>{e.color="#"+t.hex})),e.addEventListener("color-changed",(e=>{d("set/hex",e.detail.value.slice(1))}))},class:"_qpQT"})}),C="_I6qJ",$=({id:e})=>x("datalist",{ref:e=>{const t=x(g,{});let n;for(n in r)t.append(x("option",{value:r[n],children:n}));e.append(t)},id:e}),L=()=>{const e=y(),t=y(),r="e"+s(4);return h("hex",(({hex:r})=>{e.current.value=r.slice(0,6),t.current.value=r.slice(6)})),x(S,{open:!0,title:"HEX",children:x("div",{class:"_cL7F",children:[x("label",{"aria-label":"color",children:[x("input",{ref:e,type:"text",list:r,autoComplete:"on",placeholder:"ffffff",spellcheck:"false",class:C,onchange:()=>{const[t,r]=l(e.current.value);t&&d("set/hex",r)}}),x($,{id:r})]}),x("label",{"aria-label":"alpha (opacity)",children:x("input",{ref:t,type:"text",placeholder:"ff",maxLength:2,spellcheck:"false",class:C,onchange:()=>{const e=t.current.value.trim().toLowerCase().replace(a,"");d("set/rgba",["a",2!==e.length?255:parseInt(e,16)])}})})]})})},z=({param:e})=>{const t=y(),r=y(),n=`color channel "${e}"`,a=t=>{const r=~~t.target.valueAsNumber;d("set/rgba",[e,r>255?255:r])};return h(e,(n=>{const a=n[e];t.current.valueAsNumber=a,r.current.valueAsNumber=a})),x("div",{class:"_KtOt",children:[x("span",{class:"_mpBC",children:e.toUpperCase()}),x("input",{ref:t,type:"number",class:"_YVqj",oninput:a,max:255,min:0,step:1,"aria-label":n}),x("input",{ref:r,type:"range",class:"_mr5f",oninput:a,max:255,min:0,step:1,"aria-label":n})]})},A=()=>x(S,{open:!0,title:"RGBA",children:[x(z,{param:"r"}),x(z,{param:"g"}),x(z,{param:"b"}),x(z,{param:"a"})]}),P=e=>{const t=e.target;t.select(),navigator.clipboard.writeText(t.value)},I=({label:e,ref:t})=>x("label",{children:[e,x("input",{ref:t,onclick:P,class:"_vEgE",type:"text",spellcheck:"false",readOnly:!0})]}),T="_idK4",B=(e,t)=>{const r=x("canvas",{width:1,height:1}),n=r.getContext("2d",{alpha:255!==t,desynchronized:!0,colorSpace:"srgb"});return n&&(n.fillStyle="#"+e,n.rect(0,0,1,1),n.fill()),r},U="image/png",H=e=>`1x1_#${e.toUpperCase()}.png`,N=e=>{e.addEventListener("click",(()=>{const{hex:t,a:r}=p(),n=B(t,r);e.download=H(t),e.href=n.toDataURL(U,.1)}))},O=e=>{e.addEventListener("click",(async()=>{const{hex:e,a:t}=p(),r=B(e,t),n=await window.showSaveFilePicker({suggestedName:H(e)});if("granted"===await n.queryPermission()){const[e,t]=await Promise.all([n.createWritable(),new Promise((e=>r.toBlob(e,U,.1)))]);t&&await e.write(t),await e.close()}}))},D=()=>"function"===typeof window.showSaveFilePicker?x("button",{ref:O,type:"button",class:T,children:"Download"}):x("a",{ref:N,role:"button",class:T,href:"#",children:"Download"}),j=({color:e,title:t})=>x("li",{class:"_TzA2",children:x("a",{href:e,style:`background-color:${e}`,class:"_OUpi",title:t})}),q=()=>x("ul",{class:"_u2V8",children:[x(j,{color:"#ffffffff",title:"White"}),x(j,{color:"#000000ff",title:"Black"}),x(j,{color:"#00000000",title:"Transparent"})]}),F=()=>{const e=new FileReader,t=document.querySelector('link[rel="icon"]'),r=y(),n=y(),a=y(),s=y(),o=y(),[i,l]=w("1x1 (82 bytes)");let c;const d=t=>{1!==e.readyState&&t&&e.readAsArrayBuffer(t)};return e.addEventListener("load",(()=>{if(e.result instanceof ArrayBuffer){const{radix:t}=p(),r=Array.from(new Uint8Array(e.result),(e=>e.toString(t)));s.current.value=r.join(" "),l(`1x1 (${r.length} bytes)`)}})),h("hex","radix",(({hex:e,a:s})=>{const i="#"+e,l=B(e,s),h=l.toDataURL("image/png",.1),u=`url(${h})`,p="display:inline-block;border:1px solid #c6e2f7;border-radius:50%;width:1em;height:1em;background-image:"+u;l.toBlob(d),location.hash=i,r.current.style.backgroundImage=u,n.current.value=h,o.current.value=h.slice(22),a.current.value="https://shoonia.github.io/1x1/"+i,clearTimeout(c),c=window.setTimeout((()=>{document.title="1x1 Pixel PNG | "+i,location.hash=i,t.href=(e=>{const t=x("canvas",{width:50,height:50}),r=t.getContext("2d",{alpha:!0,desynchronized:!0});return r&&(r.fillStyle=e,r.arc(25,25,24,0,2*Math.PI),r.stroke(),r.fill()),t.toDataURL("image/png",.1)})(i),console.log("%c  ",p,i)}),300)})),x(g,{children:[x("div",{ref:r,class:"_Yrq7",children:[x("span",{class:"_Tmgs",children:i}),x("div",{class:"_ln6L",children:x(q,{})})]}),x("fieldset",{class:"_hZe0",children:[x(I,{ref:n,label:"Data: URL"}),x(I,{ref:o,label:"Base64:"}),x("div",{class:"_iwnA",children:[x(I,{ref:s,label:"Bytes:"}),x("select",{ref:e=>{e.addEventListener("change",(()=>{u({radix:~~e.value})}))},class:"_LlKh",children:[x("option",{value:"16",children:"16"}),x("option",{value:"10",children:"10"}),x("option",{value:"8",children:"8"}),x("option",{value:"2",children:"2"})]})]}),x(I,{ref:a,label:"Share Link:"})]}),x(D,{})]})};var R=["Shift","Meta","Alt","Control"],G="object"==typeof navigator&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Control";function K(e,t){return"function"==typeof e.getModifierState&&e.getModifierState(t)}function V(e){return e.trim().split(" ").map((function(e){var t=e.split(/\b\+/),r=t.pop();return[t=t.map((function(e){return"$mod"===e?G:e})),r]}))}function W(e,t){var r;void 0===t&&(t={});var n=null!=(r=t.timeout)?r:1e3,a=Object.keys(e).map((function(t){return[V(t),e[t]]})),s=new Map,o=null;return function(e){e instanceof KeyboardEvent&&(a.forEach((function(t){var r=t[0],n=t[1],a=s.get(r)||r;!function(e,t){return!(t[1].toUpperCase()!==e.key.toUpperCase()&&t[1]!==e.code||t[0].find((function(t){return!K(e,t)}))||R.find((function(r){return!t[0].includes(r)&&t[1]!==r&&K(e,r)})))}(e,a[0])?K(e,e.key)||s.delete(r):a.length>1?s.set(r,a.slice(1)):(s.delete(r),n(e))})),o&&clearTimeout(o),o=setTimeout(s.clear.bind(s),n))}}const X="__ED7",Y="_tsrr",J="_Vtwd",Z=/Mac OS/i.test(navigator.userAgent),Q=()=>{null===history.state&&history.go(-1)},ee=()=>history.go(1);window.addEventListener("popstate",(()=>{const e=p(),t=location.hash.slice(1);if(t===e.hex)return;const[r,n]=l(t);r&&d("set/hex",n)})),function(e,t,r){var n;void 0===r&&(r={});var a=null!=(n=r.event)?n:"keydown",s=W(t,r);e.addEventListener(a,s)}(window,{"$mod+z":Q,"$mod+Shift+z":ee});const te=()=>{const e=Z?"âŒ˜":"Ctrl";return x("div",{class:"_zcTS",children:[x("div",{children:[x("div",{children:"Undo:"}),x("button",{type:"button",class:X,onclick:Q,children:x("kbd",{class:Y,children:[x("span",{class:J,children:e}),x("span",{class:J,children:"z"})]})})]}),x("div",{children:[x("div",{children:"Redo:"}),x("button",{type:"button",class:X,onclick:ee,children:x("kbd",{class:Y,children:[x("span",{class:J,children:e}),x("span",{class:J,children:"Shift"}),x("span",{class:J,children:"z"})]})})]})]})},re=()=>{const[e,t]=w("-");return fetch("https://api.github.com/repos/shoonia/1x1").then((e=>e.json())).then((e=>e.stargazers_count)).catch((()=>"0")).then(t),x("div",{class:"_Eesg",children:[x("a",{href:"https://github.com/shoonia/1x1","aria-label":"Star on GitHub",tabIndex:0,class:"_FVE9 _fifr",children:[x("svg",{height:"1.4em",width:"1.4em",viewBox:"0 0 16 16",fill:"currentColor",__ns:1,children:x("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.43-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z",__ns:1})}),"Stars"]}),x("a",{href:"https://github.com/shoonia/1x1/stargazers",target:"_blank",rel:"noopener noreferrer",tabIndex:0,class:"_mJmk _fifr",children:e})]})},ne=()=>{const e=new URL("https://shoonia.github.io/pixel-gif/");return x("a",{ref:t=>{h("hex",(r=>{e.hash=r.hex.slice(0,6),t.href=e.href}))},href:e.href,class:"_cF18",children:"1x1 Pixel GIF"})},[ae,se]=l(location.hash),oe=ae?se:s(6)+"ff";history.pushState(1,"","#"+oe),document.body.append(x((()=>x("div",{class:"_C8uc",children:[x("header",{class:"_dXhG",children:[x("a",{href:"/",class:e,children:"1x1 Pixel PNG"}),x("div",{class:t,children:[x(k,{}),x(_,{})]})]}),x("aside",{class:"_Y6FK",children:[x(L,{}),x(A,{}),x(E,{})]}),x("main",{class:"_MHwx",children:x("div",{class:"_HU3a",children:[x("h1",{class:"_S6pI",children:"One pixel Base64 encoded transparent PNG generator"}),x(F,{})]})}),x("footer",{class:"_aey0",children:[x("div",{class:e,children:x(te,{})}),x("div",{class:t,children:[x(re,{}),x(ne,{})]})]})]})),{})),d("set/hex",oe),c()})(),(()=>{const e=(e,t=0,r=1)=>e>r?r:e<t?t:e,t=(e,t=0,r=Math.pow(10,t))=>Math.round(r*e)/r,r=(Math,e=>("#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?t(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?t(parseInt(e.substring(6,8),16)/255,2):1})),n=({h:e,s:r,v:n,a})=>{const s=(200-r)*n/100;return{h:t(e),s:t(s>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0),l:t(s/2),a:t(a,2)}},a=e=>{const{h:t,s:r,l:a}=n(e);return`hsl(${t}, ${r}%, ${a}%)`},s=e=>{const{h:t,s:r,l:a,a:s}=n(e);return`hsla(${t}, ${r}%, ${a}%, ${s})`},o=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},i=(e,t)=>{if(e===t)return!0;for(const r in e)if(e[r]!==t[r])return!1;return!0},l={},c=e=>{let t=l[e];return t||(t=document.createElement("template"),t.innerHTML=e,l[e]=t),t},h=(e,t,r)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:r}))};let d=!1;const u=e=>"touches"in e,p=(t,r)=>{const n=u(r)?r.touches[0]:r,a=t.el.getBoundingClientRect();h(t.el,"move",t.getMove({x:e((n.pageX-(a.left+window.pageXOffset))/a.width),y:e((n.pageY-(a.top+window.pageYOffset))/a.height)}))};class f{constructor(e,t,r,n){const a=c(`<div role="slider" tabindex="0" part="${t}" ${r}><div part="${t}-pointer"></div></div>`);e.appendChild(a.content.cloneNode(!0));const s=e.querySelector(`[part=${t}]`);s.addEventListener("mousedown",this),s.addEventListener("touchstart",this),s.addEventListener("keydown",this),this.el=s,this.xy=n,this.nodes=[s.firstChild,s]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(d?"touchmove":"mousemove",this),t(d?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(e=>!(d&&!u(e))&&(d||(d=u(e)),!0))(e)||!d&&0!=e.button)return;this.el.focus(),p(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),p(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((e,t)=>{const r=t.keyCode;r>40||e.xy&&r<37||r<33||(t.preventDefault(),h(e.el,"move",e.getMove({x:39===r?.01:37===r?-.01:34===r?.05:33===r?-.05:35===r?1:36===r?-1:0,y:40===r?.01:38===r?-.01:0},!0)))})(this,e)}}style(e){e.forEach(((e,t)=>{for(const r in e)this.nodes[t].style.setProperty(r,e[r])}))}}class g extends f{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:a({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${t(e)}`)}getMove(t,r){return{h:r?e(this.h+360*t.x,0,360):360*t.x}}}class m extends f{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:a(e)},{"background-color":a({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${t(e.s)}%, Brightness ${t(e.v)}%`)}getMove(t,r){return{s:r?e(this.hsva.s+100*t.x,0,100):100*t.x,v:r?e(this.hsva.v-100*t.y,0,100):Math.round(100-100*t.y)}}}const b=Symbol("same"),v=Symbol("color"),x=Symbol("hsva"),y=Symbol("update"),w=Symbol("parts"),_=Symbol("css"),k=Symbol("sliders");class S extends HTMLElement{static get observedAttributes(){return["color"]}get[_](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[k](){return[m,g]}get color(){return this[v]}set color(e){if(!this[b](e)){const t=this.colorModel.toHsva(e);this[y](t),this[v]=e}}constructor(){super();const e=c(`<style>${this[_].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[w]=this[k].map((e=>new e(t)))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,r){const n=this.colorModel.fromAttr(r);this[b](n)||(this.color=n)}handleEvent(e){const t=this[x],r={...t,...e.detail};let n;this[y](r),i(r,t)||this[b](n=this.colorModel.fromHsva(r))||(this[v]=n,h(this,"color-changed",{value:n}))}[b](e){return this.color&&this.colorModel.equal(e,this.color)}[y](e){this[x]=e,this[w].forEach((t=>t.update(e)))}}class M extends f{constructor(e){super(e,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(e){this.hsva=e;const r=s({...e,a:0}),n=s({...e,a:1}),a=100*e.a;this.style([{left:`${a}%`,color:s(e)},{"--gradient":`linear-gradient(90deg, ${r}, ${n}`}]);const o=t(a);this.el.setAttribute("aria-valuenow",`${o}`),this.el.setAttribute("aria-valuetext",`${o}%`)}getMove(t,r){return{a:r?e(this.hsva.a+t.x):t.x}}}class E extends S{get[_](){return[...super[_],'[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\')}[part=alpha-pointer]{top:50%}']}get[k](){return[...super[k],M]}}const C={defaultColor:"#0001",toHsva:e=>(({r:e,g:r,b:n,a})=>{const s=Math.max(e,r,n),o=s-Math.min(e,r,n),i=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:t(60*(i<0?i+6:i)),s:t(s?o/s*100:0),v:t(s/255*100),a}})(r(e)),fromHsva:e=>(({r:e,g:r,b:n,a})=>{const s=a<1?o(t(255*a)):"";return"#"+o(e)+o(r)+o(n)+s})((({h:e,s:r,v:n,a})=>{e=e/360*6,r/=100,n/=100;const s=Math.floor(e),o=n*(1-r),i=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),c=s%6;return{r:t(255*[n,i,o,o,l,n][c]),g:t(255*[l,n,n,i,o,o][c]),b:t(255*[o,o,l,n,n,i][c]),a:t(a,2)}})(e)),equal:(e,t)=>e.toLowerCase()===t.toLowerCase()||i(r(e),r(t)),fromAttr:e=>e};class $ extends E{get colorModel(){return C}}customElements.define("hex-alpha-color-picker",class extends ${})})();